
# What Is a Table?

- *Relational databases* store data in tables (relations).
  - Defined by columns (with names)
  - Can have zero or more rows

- Tables represent a type of object or entity:
  - Examples: `employees`, `purchase orders`, `customers`, `sales orders`
  - Consistent naming is important

- Tables act as a **security boundary**
- Each row represents a **single instance** of the entity:
  - Example: one employee, one purchase order
  - Rows have **no inherent order**

---

## –ß—É–∂–¥ –∫–ª—é—á (Foreign Key)

–ß—É–∂–¥–∏—è—Ç –∫–ª—é—á –µ –≤—Ä—ä–∑–∫–∞ –º–µ–∂–¥—É –¥–≤–µ —Ç–∞–±–ª–∏—Ü–∏.

- –í –µ–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –∏–º–∞ –∫–æ–ª–æ–Ω–∞, –∫–æ—è—Ç–æ —Å–æ—á–∏ –∫—ä–º –ø—ä—Ä–≤–∏—á–Ω–∏—è –∫–ª—é—á –Ω–∞ –¥—Ä—É–≥–∞ —Ç–∞–±–ª–∏—Ü–∞.  
- –¢–æ–≤–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–∞, —á–µ –¥–∞–Ω–Ω–∏—Ç–µ —Å–∞ —Å–≤—ä—Ä–∑–∞–Ω–∏ –∏ –≤–∞–ª–∏–¥–Ω–∏.

### –ù–∞–π-–≤–∞–∂–Ω–∏—Ç–µ –ø—Ä–∞–≤–∏–ª–∞:

- –ù–µ –º–æ–∂–µ –¥–∞ –∏–º–∞—à –≤—Ä—ä–∑–∫–∞ –∫—ä–º –Ω–µ—â–æ, –∫–æ–µ—Ç–æ **–Ω–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞**.  
- –ê–∫–æ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ç–∞ **"–ü–æ—Ä—ä—á–∫–∏"** –∏–º–∞—à –∫–ª–∏–µ–Ω—Ç —Å `ID=5`, —Ç–æ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ç–∞ **"–ö–ª–∏–µ–Ω—Ç–∏"** –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–º–∞ –∫–ª–∏–µ–Ω—Ç —Å —Ç–æ–≤–∞ `ID`.  
- –ù–µ –º–æ–∂–µ –¥–∞ –∏–∑—Ç—Ä–∏–µ—à –Ω–µ—â–æ, –∫—ä–º –∫–æ–µ—Ç–æ –∏–º–∞ –≤—Ä—ä–∑–∫–∞.  
- –ê–∫–æ –∏–º–∞ –ø–æ—Ä—ä—á–∫–∏ –æ—Ç –∫–ª–∏–µ–Ω—Ç —Å `ID=5`, –Ω–µ –º–æ–∂–µ—à –ø—Ä–æ—Å—Ç–æ —Ç–∞–∫–∞ –¥–∞ –∏–∑—Ç—Ä–∏–µ—à —Ç–æ–∑–∏ –∫–ª–∏–µ–Ω—Ç ‚Äî –ø—ä—Ä–≤–æ —Ä–µ—à–∏ –∫–∞–∫–≤–æ –¥–∞ —Å—Ç–∞–Ω–µ —Å –ø–æ—Ä—ä—á–∫–∏—Ç–µ –º—É.

---

## Useful Tables in **msdb** Database

- `dbo.backupset`  
- `dbo.restorehistory`  
- `dbo.sysjobstory`

---

## Query Writing Principles

–ü—Ä–∏ –ø–∏—Å–∞–Ω–µ –Ω–∞ –∑–∞—è–≤–∫–∏ —Ç—Ä—è–±–≤–∞ –≤—Å–∏—á–∫–æ –¥–∞ –µ **–æ–ø—Ç–∏–º–∞–ª–Ω–æ**, **–±—ä—Ä–∑–æ** –∏ **–ª–µ—Å–Ω–æ –∑–∞ –ø–æ–ª–∑–≤–∞–Ω–µ**.  
–ö–æ–ª–∫–æ—Ç–æ –ø–æ-–∞–∫—Ç—É–∞–ª–Ω–∞ –µ –µ–¥–Ω–∞ –±–∞–∑–∞ –æ—Ç –¥–∞–Ω–Ω–∏, —Ç–æ–ª–∫–æ–≤–∞ –ø–æ–≤–µ—á–µ —Ö–æ—Ä–∞ –±–∏—Ö–∞ —è –∏–∑–ø–æ–ª–∑–≤–∞–ª–∏.

---

## UNIQUE Tables and Identity

–ú–æ–∂–µ –¥–∞ —Å—ä–∑–¥–∞–¥–µ–º **UNIQUE** —Ç–∞–±–ª–∏—Ü–∞, –∞–∫–æ –Ω—è–º–∞–º–µ —Ç–∞–∫–∞–≤–∞:

````sql
IDENTITY(1, 10) / SCOPE_IDENTITY
1
2
3
...
````
````sql
SEQUENCE 
//start:
//max:
1
2
3
...
````

# Data Types

## Overview

- Understand the purpose of data types  
- Use exact numeric data types  
- Use approximate numeric data types  
- Use date and time data types  
- Work with unique identifiers  
- Understand when to use `NULL` and `NOT NULL`  
- Create alias data types  
- Convert data between data types  
- Work with international character data  

---

## –¢–∏–ø–æ–≤–µ –¥–∞–Ω–Ω–∏

–û–ø—Ä–µ–¥–µ–ª—è—Ç –∫–∞–∫—ä–≤ –≤–∏–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–µ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞:

- **–ß–∏—Å–ª–∞** ‚Äì `INT` (—Ü–µ–ª–∏), `DECIMAL` (–ø–∞—Ä–∏)  
- **–¢–µ–∫—Å—Ç** ‚Äì `VARCHAR` (–ø—Ä–æ–º–µ–Ω–ª–∏–≤ —Ç–µ–∫—Å—Ç)  
- **–î–∞—Ç–∞** ‚Äì `DATE`, `DATETIME`  
- **NULL** ‚Äì –ª–∏–ø—Å–≤–∞—â–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç  
- **NOT NULL** ‚Äì –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ –ø–æ–ª–µ  

---

## 3 Basic Sets of Data Types

1. **System data types**  
2. **Alias data types**  
3. **User-defined data types**

---

## Integer Types (–¶–µ–ª–∏ —á–∏—Å–ª–∞)

| Type       | Range                           | Size     | Description                  |
|-------------|---------------------------------|----------|------------------------------|
| `tinyint`   | 0 –¥–æ 255                       | 1 –±–∞–π—Ç   | –ú–Ω–æ–≥–æ –º–∞–ª–∫–∏ —á–∏—Å–ª–∞            |
| `smallint`  | -32,768 –¥–æ 32,767              | 2 –±–∞–π—Ç–∞  | –ú–∞–ª–∫–∏ —Ü–µ–ª–∏ —á–∏—Å–ª–∞             |
| `int`       | ~ -2 –º–ª—Ä–¥. –¥–æ +2 –º–ª—Ä–¥.         | 4 –±–∞–π—Ç–∞  | –ù–∞–π-—á–µ—Å—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω —Ç–∏–ø      |
| `bigint`    | –ú–Ω–æ–≥–æ –≥–æ–ª–µ–º–∏ —á–∏—Å–ª–∞             | 8 –±–∞–π—Ç–∞  | –ó–∞ –≥–æ–ª–µ–º–∏ –æ–±–µ–º–∏ –æ—Ç –¥–∞–Ω–Ω–∏     |

---

## Exact Fractional Types (–¢–æ—á–Ω–∏ –¥—Ä–æ–±–Ω–∏ —á–∏—Å–ª–∞)

- `decimal(p,s)` ‚Äì —Ç–æ—á–Ω–∏ –¥—Ä–æ–±–Ω–∏ —á–∏—Å–ª–∞ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç (–ø–æ–¥—Ö–æ–¥—è—â –∑–∞ –ø–∞—Ä–∏)  
  - `p` ‚Äì –æ–±—â –±—Ä–æ–π —Ü–∏—Ñ—Ä–∏  
  - `s` ‚Äì –±—Ä–æ–π —Ü–∏—Ñ—Ä–∏ —Å–ª–µ–¥ –∑–∞–ø–µ—Ç–∞—è  
- `numeric` = `decimal` (–∏–¥–µ–Ω—Ç–∏—á–Ω–∏)  
- `money` / `smallmoney` ‚Äì –∑–∞ –ø–∞—Ä–∏ (4 –¥–µ—Å–µ—Ç–∏—á–Ω–∏ –∑–Ω–∞–∫–∞, –ø–æ-—Å—Ç–∞—Ä–∏ —Ç–∏–ø–æ–≤–µ)  

> ‚ö†Ô∏è **`float`** –∏ **`real`** ‚Äì –∏–º–∞—Ç –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏ ‚Üí –∏–∑–±—è–≥–≤–∞—Ç —Å–µ –ø—Ä–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∏ –∏–∑—á–∏—Å–ª–µ–Ω–∏—è.

---

## Date and Time

- `{23.10.2025}` ‚Üí `DATE` ‚Üí –≤–∏–Ω–∞–≥–∏ –≤—ä–≤ —Ñ–æ—Ä–º–∞—Ç **`YYYY-MM-DD`**  
- `{20:00:00}` ‚Üí `TIME`  
- `datetime2` ‚Üí –ø–æ-–ø—Ä–µ—Ü–∏–∑–µ–Ω —Ç–∏–ø –∑–∞ –¥–∞—Ç–∏ –∏ –≤—Ä–µ–º–µ  

---

## Unique Identifier

- `uniqueidentifier` ‚Äì —à–∞–Ω—Å –Ω—è–∫–æ–π –¥–∞ –∏–º–∞ —Å—ä—â–∏—è ID –∫–ª–æ–Ω–∏ –∫—ä–º **–Ω—É–ª–∞**  
- `NOT NULL` & `NULL` ‚Äì –ø–æ–∫–∞–∑–≤–∞—Ç –Ω–∞–ª–∏—á–∏–µ –∏–ª–∏ –ª–∏–ø—Å–∞ –Ω–∞ –¥–∞–Ω–Ω–∏  
- `CREATE TYPE` ‚Üí –¥–µ—Ñ–∏–Ω–∏—Ä–∞–Ω–µ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∏ —Ç–∏–ø (`sys.types`)

---

# Converting Data Between Data Types

| Function      | Description                              |
|----------------|------------------------------------------|
| `CAST()`       | –ü—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞ –º–µ–∂–¥—É —Ç–∏–ø–æ–≤–µ                 |
| `CONVERT()`    | –°—ä—â–æ –ø—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞, –Ω–æ –ø–æ–∑–≤–æ–ª—è–≤–∞ —Ñ–æ—Ä–º–∞—Ç    |
| `PARSE()`      | –°–∞–º–æ –∑–∞ –¥–∞—Ç–∏                             |
| `TRY_CAST()`   | –ü—Ä–æ–±–≤–∞ –¥–∞ –ø—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞ –±–µ–∑ –≥—Ä–µ—à–∫–∞         |
| `TRY_CONVERT()`| –°—ä—â–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞–Ω–µ             |
| `TRY_PARSE()`  | –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞–Ω–µ –Ω–∞ –¥–∞—Ç–∞          |

---

# UNICODE

- –ò–∑–ø–æ–ª–∑–≤–∞ **`N` –ø—Ä–µ—Ñ–∏–∫—Å** ‚Üí `N'—Ç–µ–∫—Å—Ç'`  
- `LEN()` ‚Äì –≤—Ä—ä—â–∞ –¥—ä–ª–∂–∏–Ω–∞—Ç–∞ –Ω–∞ —Ç–µ–∫—Å—Ç–∞  
- `DATALENGTH()` ‚Äì –≤—Ä—ä—â–∞ –±—Ä–æ—è –±–∞–π—Ç–æ–≤–µ  

---

# SCHEMA

–ò–∑–ø–æ–ª–∑–≤–∞ —Å–µ –∑–∞ –∏–º–µ–Ω—É–≤–∞–Ω–µ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –Ω–∞ –æ–±–µ–∫—Ç–∏:

- Server Name ‚Üí Database ‚Üí (dbo / mr / etc.) ‚Üí Schema {owner} ‚Üí Object


---

# Creating and Altering Tables

### –û—Å–Ω–æ–≤–Ω–∏ –∫–æ–º–∞–Ω–¥–∏:
- `CREATE TABLE` ‚Äì —Å—ä–∑–¥–∞–≤–∞ —Ç–∞–±–ª–∏—Ü–∞  
- `DROP TABLE` ‚Äì –∏–∑—Ç—Ä–∏–≤–∞ —Ç–∞–±–ª–∏—Ü–∞  
- `ALTER TABLE` ‚Äì –ø—Ä–æ–º–µ–Ω—è —Ç–∞–±–ª–∏—Ü–∞  

### Temporary Tables

| Prefix  | –í–∏–¥–∏–º–æ—Å—Ç | –ë–µ–ª–µ–∂–∫–∞ |
|----------|-----------|----------|
| `#`      | –õ–æ–∫–∞–ª–Ω–∞ (—Å–∞–º–æ –∑–∞ —Ç–µ–∫—É—â–∞—Ç–∞ —Å–µ—Å–∏—è) | –ò–∑—á–µ–∑–≤–∞ —Å–ª–µ–¥ –ø—Ä–∏–∫–ª—é—á–≤–∞–Ω–µ |
| `##`     | –ì–ª–æ–±–∞–ª–Ω–∞ (–¥–æ—Å—Ç—ä–ø–Ω–∞ –∑–∞ –≤—Å–∏—á–∫–∏) | –í–Ω–∏–º–∞–≤–∞–π —Å –Ω–∞—Ç—Ä—É–ø–≤–∞–Ω–µ |

> üí° **–í–∞–∂–Ω–æ:** –Ω–µ –ø—Ä–µ–∫–∞–ª—è–≤–∞–π —Å –≤—Ä–µ–º–µ–Ω–Ω–æ —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ —Ç–∞–±–ª–∏—Ü–∏ ‚Äì –∏–∑–ø–æ–ª–∑–≤–∞–π `DROP` –∑–∞ –ø–æ—á–∏—Å—Ç–≤–∞–Ω–µ.

---

# SQL Query Clauses

| Clause     | Expression         |
|-------------|--------------------|
| `SELECT`    | `<select list>`    |
| `FROM`      | `<table or view>`  |
| `WHERE`     | `<search condition>` |
| `GROUP BY`  | `<group by list>`  |
| `ORDER BY`  | `<order by list>`  |

---

# Query Examples

````sql
SELECT *
FROM Sales.Customers; -- –ø–æ–Ω—è–∫–æ–≥–∞ ; –µ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ
````

- –£–Ω–∏–∫–∞–ª–Ω–æ—Å—Ç = DISTINCT
- –ü—Ä–µ–º–∞—Ö–≤–∞–Ω–µ –Ω–∞ —Ä–µ–¥–æ–≤–µ—Ç–µ —Å–ª–µ–¥: WHERE, HAVING, GROUP BY

  Calculations in the SELECT Clause:

| Operator | Description           |
|----------|-----------------------|
| +        | Add or concatenate    |
| -        | Subtract              |
| *        | Multiply              |
| /        | Divide                |
| %        | Modulo                |

# Logical Processing Order & Aliases

- FROM, WHERE, HAVING —Å–µ –æ–±—Ä–∞–±–æ—Ç–≤–∞—Ç –ø—Ä–µ–¥–∏ SELECT

- –ê–ª–∏–∞—Å–∏, —Å—ä–∑–¥–∞–¥–µ–Ω–∏ –≤ SELECT, —Å–∞ –≤–∏–¥–∏–º–∏ —Å–∞–º–æ –∑–∞ ORDER BY

- –ú–æ–≥–∞—Ç –¥–∞ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤ –∑–∞—è–≤–∫–∞—Ç–∞


# CASE

*Simple CASE*
- –†–∞–±–æ—Ç–∏ —Å —Ñ–∏–∫—Å–∏—Ä–∞–Ω–∞ –∫–æ–ª–æ–Ω–∞
- –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –∑–∞ —Ç–æ—á–Ω–æ —Å—ä–≤–ø–∞–¥–µ–Ω–∏–µ

````sql
CASE column_name
    WHEN 'A' THEN 'Group 1'
    WHEN 'B' THEN 'Group 2'
    ELSE 'Other'
END
````

*Search CASE*
- –ü–æ–∑–≤–æ–ª—è–≤–∞ –ø–æ–≤–µ—á–µ —É—Å–ª–æ–≤–∏—è / –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

````sql
CASE 
    WHEN amount < 100 THEN 'Low'
    WHEN amount BETWEEN 100 AND 500 THEN 'Medium'
    WHEN amount > 500 THEN 'High'
    ELSE 'Unknown'
END
````
